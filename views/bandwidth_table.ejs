<form action="/bandwidth/" method="GET" id="locationForm">
  <div>
    <select id="location" name="location">
      <% locations.forEach(location => { %>
        <option value="<%= location %>"><%= location %></option>
      <% }); %>
    </select>
  </div>
  <button type="submit">Submit</button>
</form>
<div class="table-responsive-xxl">
  <table class="table table-bordered table-striped table-hover">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Month</th>
        <th scope="col">Project Name</th>
        <th scope="col">Status</th>
        <th scope="col">Facility</th>
        <th scope="col">Tower</th>
        <th scope="col">BU</th>
        <th scope="col">Subnet</th>
        <th scope="col">PAT IP</th>
        <th scope="col">PIDB</th>
        <th scope="col">GDCN ID</th>
        <th scope="col">Partition Name</th>
        <th scope="col">ISP</th>
        <th scope="col">Internet Bandwidth (in MB)</th>
        <th scope="col">WBSe</th>
        <th scope="col">RFC</th>
        <th scope="col">Implementation Date</th>
        <th scope="col">AMT POC</th>
        <th scope="col">BCP Bandwidth</th>
        <th scope="col">Comments</th>
      </tr>
    </thead>
    <tbody id="tableBody">
      <% if(locationData && locationData.length > 0) { %>
        <% locationData.forEach((item, index) => { %>
          <tr>
            <th scope="row"><%= index + 1 %></th>
            <td>
              <select aria-label="month" value="<%= item.Month %>">
                <% const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']; %>
                <% months.forEach(month => { %>
                  <option value="<%= month %>" <% if(month === item.Month) { %> selected <% } %>><%= month %></option>
                <% }); %>
              </select>
            </td>
            <td><input type="text" placeholder="Project Name" aria-label="projectName" id="projectName" value="<%= item['Project Name'] %>"></td>
            <td>
              <select aria-label="status">
                <option value="Live" <% if(item.Status === 'Live') { %> selected <% } %>>Live</option>
                <option value="Decommissioned" <% if(item.Status === 'Decommissioned') { %> selected <% } %>>Decommissioned</option>
              </select>
            </td>
            <td><input type="text" placeholder="Facility" aria-label="facility" id="facility" value="<%= item.Facility %>"></td>
            <td><input type="text" placeholder="Tower" aria-label="tower" id="tower" value="<%= item.Tower %>"></td>
            <td><input type="text" placeholder="BU" aria-label="bu" id="bu" value="<%= item.BU %>"></td>
            <td><input type="text" placeholder="Subnet" aria-label="subnet" id="subnet" value="<%= item.Subnet %>"></td>
            <td><input type="text" placeholder="PAT IP" aria-label="pat" id="pat" value="<%= item['PAT IP'] %>"></td>
            <td><input type="text" placeholder="PIDB" aria-label="pidb" id="pidb" value="<%= item.PIDB %>"></td>
            <td><input type="text" placeholder="GDCN ID" aria-label="gdcn" id="gdcn" value="<%= item.GDCN %>"></td>
            <td><input type="text" placeholder="Partition Name" aria-label="partition" id="partition" value="<%= item['Partition Name'] %>"></td>
            <td><input type="text" placeholder="ISP" aria-label="isp" id="isp" value="<%= item.ISP %>"></td>
            <td><input type="text" placeholder="Internet Bandwidth (in MB)" aria-label="bw" id="bw" value="<%= item['Internet Bandwidth (in MB)'] %>"></td>
            <td><input type="text" placeholder="WBSe" aria-label="wbse" id="wbse" value="<%= item.WBSe %>"></td>
            <td><input type="text" placeholder="RFC" aria-label="rfc" id="rfc" value="<%= item.RFC %>"></td>
            <td><input type="text" placeholder="Implementation Date" aria-label="implementationDate" id="implementationDate" value="<%= item['Implementation Date'] %>"></td>
            <td><input type="text" placeholder="AMT POC" aria-label="amt" id="amt" value="<%= item['AMT POC'] %>"></td>
            <td>
              <select aria-label="bcp">
                <option value="Yes" <% if(item['BCP Bandwidth'] === 'Yes') { %> selected <% } %>>Yes</option>
                <option value="No" <% if(item['BCP Bandwidth'] === 'No') { %> selected <% } %>>No</option>
              </select>
            </td>
            <td><textarea id="comment" rows="1" cols="50"><%= item.Comments %></textarea></td>
          </tr>
        <% }); %>
      <% } else { %>
        <tr>
          <td colspan="19">No data available for selected location</td>
        </tr>
      <% } %>
    </tbody>
  </table>
</div>
